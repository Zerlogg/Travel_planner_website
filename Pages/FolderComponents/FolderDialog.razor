@inject DataContext Context
@inject ISnackbar Snackbar
@inject AuthenticationStateProvider AuthenticationStateProvider
@inject NavigationManager NavigationManager

<MudForm @ref="_form" @bind-IsValid="@_success" Model="CurrentFolder" @bind-Errors="@_errors">
    <MudDialog>
        <DialogContent>
            <MudContainer Class="px-0 gap-2 align-center d-flex flex-column">
                <MudTextField T="string" Label="Title" Required="true" @bind-Value="@CurrentFolder.Title" Variant="Variant.Outlined" Class="mt-0" Style="width: 300px"/>
                <MudColorPicker Rounded="true" Class="rounded-tr-0" PickerVariant="PickerVariant.Static" Value="_pickerColor" ValueChanged="UpdateSelectedColor" 
                                DisableModeSwitch="true"
                                DisableColorField="true"
                                DisableInputs="true"
                                DisableAlpha="true"/>
            </MudContainer>
        </DialogContent>
        <DialogActions>
            <MudButton OnClick="Cancel">Cancel</MudButton>
            <MudButton Color="Color.Primary" OnClick="HandleSubmit" Disabled="@(!_success)">Save</MudButton>
        </DialogActions>
    </MudDialog>
</MudForm>